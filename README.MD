# ğŸš¨ SOS Real-Time System

Sistema de acionamento **SOS em tempo real**, onde um usuÃ¡rio pode solicitar ajuda e **brigadistas disponÃ­veis recebem a ocorrÃªncia instantaneamente**, podendo aceitÃ¡-la em tempo real.

O projeto foi desenvolvido com **Node.js + Express**, utilizando **SQLite** como banco de dados.

---

## ğŸ“Œ Funcionalidades

* ğŸ“± UsuÃ¡rio pode acionar um **SOS** pelo aplicativo
* ğŸš’ Todos os brigadistas recebem a solicitaÃ§Ã£o em **tempo real**
* âœ… Apenas **um brigadista pode aceitar** a ocorrÃªncia
* ğŸ”„ AtualizaÃ§Ã£o de status em tempo real (WebSocket)
* ğŸ—‚ PersistÃªncia dos dados em **SQLite**

---

## ğŸ§  Conceito do Funcionamento

Fluxo inspirado em apps de corrida:

1. UsuÃ¡rio aperta o botÃ£o **SOS**
2. Backend cria uma ocorrÃªncia com status `ABERTA`
3. WebSocket notifica todos os brigadistas online
4. O primeiro brigadista que aceitar fica com a ocorrÃªncia
5. Status muda para `EM_ATENDIMENTO`
6. Os demais brigadistas perdem acesso Ã  ocorrÃªncia

---

## ğŸ— Arquitetura

```
[ APP UsuÃ¡rio ] ---> REST API (Express)
                         |
                         |-- WebSocket (tempo real)
                         v
                    [ SQLite ]
```

---

## ğŸ›  Tecnologias Utilizadas

* Node.js
* Express
* WebSocket (`ws`)
* SQLite

---

## ğŸ“ Estrutura do Projeto

```
src/
 â”œâ”€ index.js        # Servidor principal
 â”œâ”€ routes/        # Rotas REST
 â””â”€ db/            # ConexÃ£o SQLite e seeds
```

---

## ğŸš€ Como Executar o Projeto

### 1ï¸âƒ£ Clonar o repositÃ³rio

```bash
git clone https://github.com/seu-usuario/sos-realtime-system.git
cd sos-realtime-system
```

### 2ï¸âƒ£ Instalar dependÃªncias

```bash
npm install
```

### 3ï¸âƒ£ Configurar .env

* crie a variavel PORT_SERVER para executar na porta de sua preferencia
> âš ï¸ NÃ£o versionar este arquivo

---

### 4ï¸âƒ£ Iniciar o servidor

```bash
node src/index.js
```

Servidor rodarÃ¡ em:

```
http://localhost:PORT_SERVER
```

---

## ğŸ”Œ Endpoints Principais

### Criar SOS

```
POST /sos
```

Body:

```json
{
  "usuarioId": 1
}
```

---

### Aceitar OcorrÃªncia

```
POST /ocorrencias/:id/aceitar
```

Body:

```json
{
  "brigadistaId": 10
}
```

---

## ğŸ”” WebSocket

### ConexÃ£o

```
ws://localhost:3000
```

### IdentificaÃ§Ã£o inicial

```json
{
  "type": "IDENTIFY",
  "role": "BRIGADA",
  "userId": 10
}
```

### Eventos

* `NOVA_OCORRENCIA`
* `OCORRENCIA_ACEITA`
* `OCORRENCIA_FINALIZADA`

---

## ğŸ” Regras de NegÃ³cio Importantes

* Apenas ocorrÃªncias com status `ABERTA` podem ser aceitas
* Backend garante exclusividade (evita dupla aceitaÃ§Ã£o)
* Push Notification **nÃ£o decide nada**, apenas notifica

---

## ğŸ“ˆ PossÃ­veis EvoluÃ§Ãµes

* ğŸ” AutenticaÃ§Ã£o JWT
* ğŸ“ Filtro de ocorrÃªncias por proximidade
* âš¡ Redis para escalar o sistema
* â± Timeout automÃ¡tico de ocorrÃªncias
* ğŸ“Š Dashboard administrativo

---

## ğŸ“ Contexto AcadÃªmico

Este projeto Ã© ideal para:

* Trabalhos acadÃªmicos
* TCCs
* ProtÃ³tipos de sistemas em tempo real
* Estudos sobre WebSocket, concorrÃªncia e notificaÃ§Ãµes push

---

## ğŸ‘¨â€ğŸ’» Autor

Thiago Ribeiro

---

## ğŸ“„ LicenÃ§a

Este projeto Ã© distribuÃ­do sob a licenÃ§a MIT.